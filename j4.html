<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>JTopo 教程之连线</title>
    <script type="text/javascript" src="js/jtopo-0.4.8-min.js"></script>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/toolbar.js"></script>


    <script id='code'>
        var node;
        $(document).ready(function () {
            var json;
            var canvas = document.getElementById('canvas');

            json = '{"version":"0.4.1","frames":24,"wheelZoom":null,"childs":[{"elementType":"scene","background":"./img/bg.jpg","backgroundColor":"255,255,255","mode":"normal","paintAll":false,"areaSelect":true,"translate":true,"translateX":24,"translateY":75,"lastTranslatedX":undefined,"lastTranslatedY":undefined,"alpha":0,"visible":true,"scaleX":1,"scaleY":1,"childs":[{"elementType":"node","x":120,"y":50,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Top_Left","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Top_Left","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":260,"y":50,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Top_Center","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Top_Center","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":400,"y":50,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Top_Right","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Top_Right","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":120,"y":190,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Middle_Left","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Middle_Left","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":260,"y":190,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Middle_Center","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Middle_Center","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":400,"y":190,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Middle_Right","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Middle_Right","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":120,"y":330,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Bottom_Left","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Bottom_Left","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":260,"y":330,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Bottom_Center","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Bottom_Center","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":400,"y":330,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Bottom_Right","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Bottom_Right","textOffsetX":0,"textOffsetY":0},{"elementType":"CircleNode","x":650,"y":200,"width":32,"height":32,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 0","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"左下偏移","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Middle_Center","textOffsetX":-30,"textOffsetY":30}]}]}';
            var stage = JTopo.createStageFromJson(json, canvas);
            //显示工具栏
            showJTopoToobar(stage);

            var jsonStr = stage.toJson();
            console.log(jsonStr);
        });
    </script>
</head>
<body>
<canvas width="910" height="800" id="canvas"></canvas>
</body>
</html>