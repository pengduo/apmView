<!DOCTYPE html>
<html>
<head>

    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9"/>
    <title>jTopo Demo</title>

    <script type="text/javascript" src="js/jtopo-0.4.8-min.js"></script>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/json2.js"></script>

    <script id='code'>
        var node;
        $(document).ready(function(){
            var canvas = document.getElementById('canvas');

            //var json = '{"version":"0.4.1","frames":24,"wheelZoom":null,"childs":[{"elementType":"scene","background":"./img/bg2.jpg","backgroundColor":"255,255,255","mode":"normal","paintAll":false,"areaSelect":true,"translate":true,"translateX":24,"translateY":75,"lastTranslatedX":undefined,"lastTranslatedY":undefined,"alpha":0,"visible":true,"scaleX":1,"scaleY":1,"childs":[{"elementType":"node","x":120,"y":50,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Top_Left","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Top_Left","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":260,"y":50,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Top_Center","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Top_Center","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":400,"y":50,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Top_Right","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Top_Right","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":120,"y":190,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Middle_Left","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Middle_Left","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":260,"y":190,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Middle_Center","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Middle_Center","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":400,"y":190,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Middle_Right","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Middle_Right","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":120,"y":330,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Bottom_Left","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Bottom_Left","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":260,"y":330,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Bottom_Center","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Bottom_Center","textOffsetX":0,"textOffsetY":0},{"elementType":"node","x":400,"y":330,"width":40,"height":40,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 255","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Bottom_Right","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Bottom_Right","textOffsetX":0,"textOffsetY":0},{"elementType":"CircleNode","x":650,"y":200,"width":32,"height":32,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"0, 0, 0","shadow":true,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"左下偏移","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Middle_Center","textOffsetX":-30,"textOffsetY":30}]}]}';
            var json ='{"version":"0.4.8","frames":24,"wheelZoom":null,"childs":[{"elementType":"scene","background":"http://localhost:63342/js/img/bg2.jpg","backgroundColor":"255,255,255","mode":"normal","paintAll":false,"areaSelect":true,"translate":true,"translateX":0,"translateY":0,"lastTranslatedX":undefined,"lastTranslatedY":undefined,"alpha":0,"visible":true,"scaleX":1,"scaleY":1,"childs":[{"elementType":"node","x":100,"y":60,"width":30,"height":30,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"22,124,255","shadow":false,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":false,"showSelected":true,"isMouseOver":false,"text":"from","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Bottom_Center","textOffsetX":0,"textOffsetY":0,"borderRadius":null},{"elementType":"node","x":694,"y":380,"width":30,"height":30,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"22,124,255","fillColor":"22,124,255","shadow":false,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":true,"zIndex":3,"dragable":true,"selected":true,"showSelected":true,"isMouseOver":false,"text":"to","font":"12px Consolas","fontColor":"255,255,255","textPosition":"Bottom_Center","textOffsetX":0,"textOffsetY":0,"borderRadius":null},{"elementType":"link","x":0,"y":0,"width":32,"height":32,"visible":true,"alpha":1,"rotate":0,"scaleX":1,"scaleY":1,"strokeColor":"0,200,255","fillColor":"22,124,255","shadow":false,"shadowColor":"rgba(0,0,0,0.5)","shadowOffsetX":3,"shadowOffsetY":6,"transformAble":false,"zIndex":2,"dragable":false,"selected":false,"showSelected":true,"isMouseOver":false,"text":"Arrow","font":"12px Consolas","fontColor":"255,255,255","lineWidth":3,"lineJoin":"miter"}]}]}';
            var stage = JTopo.createStageFromJson(json, canvas);
            //显示工具栏
            //showJTopoToobar(stage);

            //var l = new JTopo.Link(Node_1, Node_2);
            //scene.add(l);

            var jsonStr = stage.toJson();
            console.log(jsonStr);
        });
    </script>
</head>

<body>

<center>
                <div id="content">
                    <canvas width="850" height="550" id="canvas"></canvas>

                </div>
</center>

</body>

</html>